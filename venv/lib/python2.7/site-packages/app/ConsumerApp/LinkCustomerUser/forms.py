from app.mktcore.wtfimports import *
from .models 				import *
from app.User.models        import *
from app.Customer.models    import * 

def loadUser():
	return MKT_USER.query

def loadCustomer():
	return MKT_CUSTOMER.query

class FRM_LINK_CUSTOMER_USER(exform):
	User 	        = 	QuerySelectField('User',
							query_factory=loadUser,
							get_label=lambda a: a.ID + " - " + a.DisplayName,
							allow_blank=True,
							blank_text=u'--None--')
	Customer 	    = 	QuerySelectField('Customer',
							query_factory=loadCustomer,
							get_label=lambda a: a.ID + " - " + a.FirstNameEn+" "+a.LastNameEn,
							allow_blank=True,
							blank_text=u'--None--')