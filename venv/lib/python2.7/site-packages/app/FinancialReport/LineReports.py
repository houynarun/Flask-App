from flask 						import flash
from app.mktcore.wtfimports 	import *
from .models 					import *
from .. 						import app, db
import time

import app.tools.mkttool 		as mkttool

def loadCompanyName():
	Company 		= 	mkttool.getCompany()
	CompanyName 	=	""
	if Company:
		CompanyName = Company.CompanyName

	return CompanyName

class FRM_LINE_REPORT(exform):

	CompanyName 	=	TextField(requiredlabel("Company Name", "*"), [validators.Required()], default=loadCompanyName)
	ReportName 		=	TextField(requiredlabel("Report Name", "*"), [validators.Required()])
	Option 			=	SelectField(
							"Show GL Code",
							choices=[('N', 'No'), ('Y', 'Yes')],
							default='Y'
						)

	DefaultPeriod 	=	SelectField(
							"Default Period",
							choices=[('0', 'Current Month'),
									 ('1', 'Current Previous Month'),
									 ('2', 'Previous Month'),
									 ('3', 'Year to Date'),
									 ('4', 'Current Previous Year'),
									 ('5', 'Previous Year'),
									 ('6', 'As of Today')
									 ],
							default='Y'
						)

	@staticmethod
	def setWidth():
		return [('Option', len1)]