from app.mktcore.wtfimports import *
from .models import *
from app.tools.mktroute 			import *
from flask import request
from wtforms 					import IntegerField
def loadQuestion(ID=''):
	return MKT_SURVEY_QUESTIONS.query 

class FRM_SURVEY_QUESTIONNAIRE(exform):
	Description 		=	TextField(requiredlabel("Description", "*"), [validators.Required(), validators.Length(max=140)])
	QuestionID 			= 	QuerySelectField(requiredlabel('Question ID',"*"),
							 query_factory=loadQuestion, 
							 get_label=lambda a: a.ID + " - " + a.Question,
							 allow_blank=True,
							 blank_text='--None--',
							 validators=[validators.Required()],description="1-Question")
	# Required 			= 	SelectField("Required",
 #    								choices=[('', '--None--'),('Y', 'Yes'),('N', 'No')],
 #    							 	coerce=str, description="1-Question")
	QuestionOrder 		= 	IntegerField(requiredlabel("Order","*"),[validators.Required()],
									description="1-Question")

	@staticmethod
	def isMultiValue():
		return ['1-Question']



