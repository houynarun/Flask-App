{% extends "layout.html" %}

{% block css %}
    <style>
       label{
            padding-top: 10px;
       }
       input{
            margin-left: 48px;
       }
    </style>
{% endblock %}


{% block content %}
<div style="padding: 0% 30%;">
<div class="row">
    <div class="col-sm-12">
        <h1 class="header-3 text-center">Journal Checking</h1>
        <br>
    </div>
</div>

<div class="clearfix"></div>
{% include 'msg_error.html' %}

<div class="row">
    <div class="col-xs-12">
            <form method="POST" id="frmjournal" name="frmjournal" class="form-horizontal" action="/Morakot/JournalChecking">
              <div class="form-group row">
                  <label for="from" class="col-sm-3 col-form-label">From <span style=color:#d38e99>*</span></label>
                  <div class="col-sm-9">
                    <input type="textbox" name="from" class="form-control" id="from" placeholder="StartDate" value="{{StartDate}}" required>
                  </div>
              </div>
              <div class="form-group row">
                  <label for="to" class="col-sm-3 col-form-label">To <span style=color:#d38e99>*</span></label>
                  <div class="col-sm-9">
                    <input type="textbox" name="to" class="form-control" id="to" placeholder="EndDate" value="{{EndDate}}" required>
                  </div>
              </div>
              <div class="form-group row">
                  <label for="Branch" class="col-sm-3 col-form-label">Branch <span style=color:#d38e99>*</span></label>
                  <div class="col-sm-9">
                    <input type="textbox" value="{{Branch}}" class="form-control" id="Branch" name="Branch"placeholder="Branch" required>
                  </div>
              </div>
              
              <div class="form-group row">
                  <label for="filteroption" class="col-sm-4 col-form-label">Filter Option<span style=color:#d38e99>*</span></label>
                  <div class="col-sm-8">
                    <select name="filteroption" id="filteroption" class="form-control">
                         <option value="Reference">Reference</option>
                         <option value="GL_KEYS">GL_KEYS</option>
                         <option value="None">None</option>
                    </select>
                  </div>
              </div>
              <div class="form-group row">
                  <label for="filterdeference" class="col-sm-4 col-form-label">Filter Deference<span style=color:#d38e99>*</span></label>
                  <div class="col-sm-8">
                    <select name="filterdeference" id="filterdeference" class="form-control">
                         <option value="Hide">Hide Difference 0</option>
                         <option value="Show">Show Difference 0</option>
                         <option value="Both">Both</option>
                    </select>
                  </div>
              </div>
              <div>
                <button type="submit" style="padding: 10px 40px;margin-left: 190px;" class="btn btn-flat btn-labeled btn-success" id="btnSubmit">
                    <b style="font-size: 20px;">Check</b>
                </button> 
              </div>
              <br>
              <br>
              <div class="form-group row">
                <table class="table table-bordered text-center">
                    <thead class="text-center text-bold">  
                      <tr>
                        <th style="text-align: center;">{{FilterOption}}</th>
                        <th>Debit</th>
                        <th>Credit</th>
                        <th>Difference</th>
                      </tr>
                    </thead>
                    <tbody>
                        {% for DictRow in ListDict %}    
                          {%if DictRow.get("Reference")%}
                          <tr>
                            <td>{{DictRow.get("Reference")}}</td>
                            <td>{{DictRow.get("DrAmount")}}</td>
                            <td>{{DictRow.get("CrAmount")}}</td>
                            <td id="Difference">{{(DictRow.get("DrAmount")|round|int)-(DictRow.get("CrAmount")|round|int)}}</td>
                          </tr>
                          {%elif DictRow.get("GL_KEYS")%}
                          <tr>
                            <td>{{DictRow.get("GL_KEYS")}}</td>
                            <td>{{DictRow.get("DrAmount")}}</td>
                            <td>{{DictRow.get("CrAmount")}}</td>
                            <td id="Difference">{{(DictRow.get("DrAmount")|round|int)-(DictRow.get("CrAmount")|round|int)}}</td>
                          </tr>
                          {%else%}
                          <tr>
                            <td></td>
                            <td>{{DictRow.get("DrAmount")}}</td>
                            <td>{{DictRow.get("CrAmount")}}</td>
                            <td id="Difference">{{(DictRow.get("DrAmount")|round|int)-(DictRow.get("CrAmount")|round|int)}}</td>
                          </tr>
                          {%endif%}
                        {% endfor %}                      
                    </tbody>
                </table>
              </div>
            </form>
            
    </div>
</div>
</div>

{% endblock %}



{% block js %}
    <script type="text/javascript">
    init.push(function () {
      var options = {
          orientation: $('body').hasClass('right-to-left') ? "auto right" : 'auto auto',
          format:"yyyy-mm-dd",
          autoclose:true
        }
        $('#from').datepicker(options);
        $('#to').datepicker(options);
        $('#trandate').datepicker(options);
    
    });
    $('select').select2();
    </script>
{% endblock %}