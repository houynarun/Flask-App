<!DOCTYPE html>
<html class="gt-ie8 gt-ie9 not-ie pxajs">
	<head>
		<meta charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Morakot Village Bank</title>
		<link rel="icon" href="{{ url_for('static', filename='images/favo.ico') }}" sizes="16x16">
		<!-- meta type for ios -->
		<meta name="apple-mobile-web-app-title" content="Morakot VB">
		<link rel="apple-touch-icon" href="{{ url_for('static', filename='images/icons/icon-72x72.png')}}">
		<!-- remove address bar -->
		<meta name="apple-mobile-web-app-capable" content="yes">

		<!-- <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> -->
		<meta name="apple-mobile-web-app-status-bar-style" content="dark-gray">

		<link href="{{ url_for('static', filename='fonts/font.css') }}" rel="stylesheet" type="text/css">
		<link rel="manifest" href="{{ url_for('static',filename='images/manifest.json') }}">
		<script src="{{ url_for('static',filename='js/jquery-1.11.1.min.js') }}"></script>
		<script src="{{ url_for('static',filename='js/bootstrap.min.js') }}"></script>

		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/bootstrap.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/pixel-admin.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/rtl.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/themes.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/pages.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/widgets.min.css') }}">
		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/quick-search.css') }}">
		<script src="{{ url_for('static',filename='javascripts/dynamic_con.js') }}"></script>
		<script src="{{ url_for('static',filename='js/select2.js') }}"></script>  
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/3.5.1/js/select2.js"></script> -->

		<!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" /> -->
		<script src="{{ url_for('static',filename='js/bootstrap-datepicker.js') }}"></script>
		<script src="{{ url_for('static',filename='javascripts/toolbar.js') }}"></script>

		<style>		
		/********************************
		 		Style for Iphon 6
		 ********************************/

		@media only screen and (min-device-width: 375px) 
		and (max-device-height: 667px) 
		and (orientation : portrait) 
		and (-webkit-device-pixel-ratio: 2)
		{
			/* Optimize Panel */
			.panel {
				width: 82%;
			}
			#mktlist select {
				width: 50% !important;
			}

			#bodyform{
				/*padding-left: 10px;*/
			}
			
			/* Disable auto zoom in on safari iphone by setting input element font-size to 16px */
			input[type="color"],
			input[type="date"],
			input[type="datetime"],
			input[type="datetime-local"],
			input[type="email"],
			input[type="month"],
			input[type="number"],
			input[type="password"],
			input[type="search"],
			input[type="tel"],
			input[type="text"],
			input[type="time"],
			input[type="url"],
			input[type="week"],
			select,
			select:focus,
			textarea {
			  font-size: 16px !important;
			}

		 }

		@media only screen and (min-device-width: 375px) 
		and (max-device-height: 667px) 
		and (orientation : landscape) 
		and (-webkit-device-pixel-ratio: 2)
		 {
		 	/* Optimize Panel */
		 	.panel {
		 		width: 92% !important;
		 	}
		  }

		 /**************************
		  Below is Toolbar Optimized  
		  *************************/
		 @media all and (max-width: 842px) {
		 	.navbar-default .navbar-nav>li {
		 	   display: inline-block;
		 	 }
		 	
		 }
		 @media all and (max-width: 916px) { li.more-action,li.ID {padding:9px 0; } }
		 @media all and (max-width: 840px) { ul.navbar-nav {margin-top:0;} }

		 @media all and (max-width: 841px) and (min-width: 43px){ 
			#ID{
				width:201px !important;
			}
			.opt { height: 51px !important; }
			.navbar-form { padding-top:0;padding-bottom: 0;margin-top: 0;border: 0; }
			li .btn-group {padding: 0!important;}
			div.btn-group > ul.more-action-detail {

				position: absolute !important;
				background: #f8f8f8 !important;
				padding: 5px;
			}
			div.btn-group > ul.more-action-detail > li {
				margin: 15px 0 !important;
				/*color:blue !important;*/
			}
			#ID,#New,#Save,#Cancel,#Edit,#Authorize,#Delete,#Verify{font-size:13px !important;margin-left: 5px;}
			ul.opt li a{
				padding-top:0;
				padding-bottom: 0;
				padding-left: 1px !important;
				padding-right: 2px;
			}
			ul.opt li a:first-child{
				padding-left: 15px;
			}
			li.ID .navbar-form .form-group{
				margin-left: 5px !important;
			}
			.modal-dialog {
				width: 100% !important;
			}
			/* List Live Screen */
			/* iphone device does not responsive, so set the width for it*/

			
			.DT-lf-right{float: left;}
			/*.DT-search, .DT-search input {width: 100px !important;}*/
		  }
		  /*@media all and (max-width: 1100px) {  }*/

		  /* screen iphone6 lanscape */
		  /*@media all and (max-width: 381px) { */
		  @media all and (max-width: 633px) {
			button.dropdown-toggle {display: none;}
		  }

		  @media all and (max-width: 916px) { ul.opt > li > a {
		  		padding-top: 16px;
		  		padding-bottom: 16px;
		  	} }

		  @media all and (max-width: 500px) { 
				#ID{width:90px !important;}
				#ID,#New,#Save,#Cancel,#Edit,#Authorize,#Delete,#Verify{font-size:13px !important;margin-left: 5px;}
				ul.opt li a{
					padding-top:0;
					padding-bottom: 0;
					padding-left: 1px !important;
					padding-right: 2px;
				}
				ul.opt li a:first-child{
					padding-left: 15px;
				}
				li.ID .navbar-form .form-group{
					margin-left: 5px !important;
				}

				/* More Action button optimize not to fall down when click. I add class more-action-detail to it for easy to reference in code */
				button.dropdown-toggle {position: static !important;}
				div.btn-group > ul.more-action-detail {

					position: absolute !important;
					left: -100px;
					background: #f8f8f8 !important;
					padding: 5px;
				}

		  }
		/* adjust button toolbar on @screen 979px onward */
		  @media all and (max-width: 979px) and (min-width: 908px){
		  	.navbar, .navbar-default .navbar-static-top {
		  		height: 15px;
		  	}
		  	li.more-action, li.ID {
		  		padding: 0;
		  	}
		  }

		  @media all and (max-width: 925px) and (min-width: 915px) {
		  	.navbar, .navbar-default .navbar-static-top {
		  		height: 15px;
		  	}
		  	li.more-action, li.ID {
		  		padding: 0;
		  	}
		  }
		  @media all and (max-width: 982px) and (min-width: 916px) {
		  	.navbar, .navbar-default .navbar-static-top {
		  		height: 15px;
		  	}
		  	li.more-action, li.ID {
		  		padding: 0;
		  	}
		  }
		  @media all and (max-width: 982px)  and (min-width: 843px) {
		  	.navbar, .navbar-default .navbar-static-top {
		  		height: 15px;
		  	}
		  	li.more-action, li.ID {
		  		padding: 0;
		  	}
		  }


		  @media all and (max-width: 820px) {
		  	ul.opt {
		  		margin: 0;
		  	}

		  	/* make scrollbar visible always on mobile view */
		  	 ::-webkit-scrollbar {
		  	    width: 5px !important;
		  	 }

		  	 /* Track */
		  	::-webkit-scrollbar-track {
		  	   -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3) !important;
		  	   -webkit-border-radius: 10px !important;
		  	   border-radius: 10px !important;
		  	 }

		  	 /* Handle */
		  	 ::-webkit-scrollbar-thumb {
		  	   -webkit-border-radius: 10px !important;
		  	   border-radius: 10px !important;
		  	   /*background: #41617D !important;*/ 
		  	   -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5) !important; 

		  	 }
		  	 ::-webkit-scrollbar-thumb:window-inactive {
		  	   /*background: #41617D !important;*/ 
		  	 }
		  }
		
		/* Adjust form on small screen Ipad & iphone6 */
		  @media all and (min-width: 455px) {
		  	.form-horizontal .control-label {
		  			text-align: right;
		  		}
		  }

		  @media all and (max-width: 435px) {
		  	.form-group > label {
		  		width: 100%;
		  		text-align: left;
		  	}
		  }

		{% if ForegroundColor %}		
		/* Menu color */
		.theme-default #main-menu .mmc-dropdown-open-ul a, .theme-default #main-menu .navigation a,#MainMenu li a {
			/*color: #b9b9b9;*/
			color: {{ForegroundColor}} !important;
			opacity: 0.7;
		}
		/* menu footer */
		.menu-content{
			color: {{ForegroundColor}} !important;
			opacity: 0.7;
		}
		.top .text-bg span {
			color: {{ForegroundColor}} !important;
			opacity: 0.7 !important;
		}
		{% endif %}
		
		{% if BackgroundMenu %}
		/* Background menu */
		.theme-default #main-menu-bg, .theme-default #main-menu .mm-dropdown > ul, .theme-default #main-menu .mmc-dropdown-open-ul {
			background: {{BackgroundMenu}} !important;
		}
		{% endif %}

		/* item on hover*/
		.theme-default #main-menu .navigation a:hover, .mmc-dropdown-delay li a:hover {
			color: {{ForegroundColor}} !important;
			text-shadow: 0px 0px {{ForegroundColor}};
			opacity: 1;
			background:none !important;
		}

		/* set width of scroll bar, color and background */
		#main-menu-inner div.slimScrollBar {
		    width: 12px!important;
		    {%if ForegroundColor %}
		    background: {{ForegroundColor}} !important;
		    {%endif%}
		}
		div.slimScrollBar {
			opacity: 0.3 !important;
		}
		/* fix background color toggle */
		.theme-default #main-menu .mmc-dropdown-open-ul a, .theme-default #main-menu .navigation a {
			color: none !important;
			transition: none;
		}
		/* color at left side on item hover */
		/*.theme-default #main-menu .mmc-dropdown-open-ul a:after, .theme-default #main-menu .navigation a:after {
			background: #fff !important;
		}*/

			/*Silver Background: linear-gradient(to bottom, #f6f6f6 0px, #ebebeb 100%)*/
			/* Paste this css to your style sheet file or under head tag */
			/* This only works with JavaScript, 
			if it's not present, don't show loader */
			.no-js #loader { display: none;  }
			.js #loader { display: block; position: absolute; left: 100px; top: 0; }
			.se-pre-con {
				position: fixed;
				left: 0px;
				top: 0px;
				width: 100%;
				height: 70%;
				z-index: 9999;
				background: transparent url("{{ url_for('static',filename='images/loading.gif') }}") center no-repeat;
			}
			.notify-loading {
				position: absolute;
				left: 0px;
				top: 0px;
				width: 100%;
				height: 90%;
				z-index: 9999;
				background: transparent url("{{ url_for('static',filename='images/loading.gif') }}") center no-repeat;
			}
			.ReadNotify{
				background-color: #F5F5F5 !important;
			}
			.table-hover > tbody > tr:hover > td
			{
				background-color: #EBF3FA !important;

			}
			.link{
				cursor:pointer;
			}
			.link-color{
				cursor:pointer;
				color:#1d89cf;
			}
			.link-hover{
				cursor:pointer;
			}
			.link-hover:hover{
				background-color: #EBF3FA !important;
			}

			.theme-default #main-menu-bg, .theme-default #main-menu .mm-dropdown > ul, .theme-default #main-menu .mmc-dropdown-open-ul
			{
				background-color: #11202f;
			}

			.table > thead > tr > th, td
			{
				vertical-align: middle !important;
			}
			.panel { width: 100%; }
/*			.DT-search,
			.DT-search input {
				width: 230px !important;
			}*/

			.nav>li { display: inline-block; }
		</style>
		<script>

			//alert('Hello')
			//$('#animated').removeClass('se-pre-con');
  			//$('#animated').addClass('se-pre-con');
  			
  			//$("#animated").css ('display','none')
			


			//paste this code under head tag or in a seperate js file.
			// Wait for window load
			$(window).load(function() {
				// Animate loader off screen
				//$(".se-pre-con").fadeOut("slow");
				
				var $getParentEle = window.parent.$("#animated")
				$getParentEle.addClass('se-pre-con');
				$getParentEle.fadeOut("slow");
				//window.parent.$("#animated").fadeOut("slow");
			});
		</script>
		<script>
			history.pushState(null, document.title, location.href);
			window.addEventListener('popstate', function (event)
			{
			  history.pushState(null, document.title, location.href);
			});
		</script>
		{% block css %}

		{% endblock %}
		<style type="text/css">

			.theme-default #main-navbar .navbar-collapse
			{
				background: linear-gradient(to bottom, #f6f6f6 0px, #ebebeb 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
				background-repeat: repeat-x;
			}

			.theme-default #main-navbar .navbar-header
			{
				background: linear-gradient(to bottom, #f6f6f6 0px, #ebebeb 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
			}

			.theme-default #main-navbar #main-menu-toggle
			{
				background: linear-gradient(to bottom, #f6f6f6 0px, #ebebeb 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
			}

			.theme-default #main-navbar
			{
				box-shadow: 0 2px 2px rgba(0, 0, 0, 0.08), 0 1px 0 rgba(0, 0, 0, 0.08);
			}

			.theme-default #main-navbar .navbar-nav > li
			{
				border-right: 0px;
			}

			.theme-default.main-menu-right #main-navbar .navbar-header, .theme-default.mmc #main-navbar .navbar-header
			{
				background: linear-gradient(to bottom, #f6f6f6 0px, #ebebeb 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
			}

			/* centered columns styles */
			.row-centered {
			    text-align:center;
			}

			.col-centered {
			    display:inline-block;
			    float:none;
			    /* reset the text-align */
			    text-align:left;
			    /* inline-block space fix */
			    margin-right:-4px;
			}

			.col-fixed {
			    /* custom width */
			    width:320px;
			}

			.col-min {
			    /* custom min width */
			    min-width:320px;
			}
			
			.col-max {
			    /* custom max width */
			    max-width:320px;
			}

			.widget-notifications .notification-ago, .widget-notifications .notification-description, .widget-notifications .notification-title
			{
				margin-right: 45px !important;
				top: 40% !important;
			}
			.Notification-img{
				width: 35px !important;
				height: 35px !important;
				border-radius: 50% !important;
				
			}
			.Notification-big-img{
				width: 48px !important;
				height: 48px !important;
				border-radius: 50% !important;
			}

			ul.navigation
			{
				padding: 0px !important;
				/*margin-top: 48px;*/
			}

			.ksn-floating-btn{
				border-radius: 50%;
				width: 50px;
				height: 50px;
				box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
			}

			.ksn-floating{
				background: transparent;
				position: fixed;
				right: 0;
				z-index: 999;
				top: 590px;
			}
		</style>
	</head>
	<!-- <body id='bodyform' class="theme-default main-menu-animated main-navbar-fixed main-menu-fixed dont-animate-mm-content-sm animate-mm-md animate-mm-lg"> -->
	<body id='bodyform' class="theme-default main-menu-animated main-navbar-fixed main-menu-fixed dont-animate-mm-content-sm animate-mm-md animate-mm-lg">
		<!-- Paste this code after body tag -->
		<!--<div  id="animated"></div>-->
		<!-- Ends -->
		<script>var init = [];</script>
		
		{% block content %}

		{% endblock %}
		<script src="{{ url_for('static',filename='javascripts/pixel-admin.min.js') }}"></script>
		<script type="text/javascript">
			init.push(function () {
				// Javascript code here
				// Call function shortcut
				setShortcutKey();
				isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
				if(isMobile==false){
					$('#ID').focus();
				}else{
					$('a[href="#notifications"]').click(function(){
						// alert('hello notifications');
						$('.widget-notifications').remove();
						window.parent.addTab("Notification", "/Morakot/NotificationMessageMobile");
						$('.main-navbar-collapse').removeClass('in');
					})
				}
			})
			window.PixelAdmin.start(init);
		</script>
		{% block js %}

		{% endblock %}
		<div class="modal fade" id="getSwitchBranch" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" style="width: 50%;">
			    <div class="modal-content">
			        <form class="form-horizontal" action="/Morakot/TrialBalance" method="GET">
			            <div class="modal-header">
			                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			                <h4 class="modal-title" id="exampleModalLabel">Switch Branch</h4>
			            </div>
			            <div class="modal-body">
			                <div class="form-group">
			                    <label for="Branch" class="col-sm-3 control-label">Branch:</label>
			                    <div class="col-sm-9">
			                    	<select id="jquery-select2-example" class="form-control SwitchBranch">
										<option></option>
										{% if AccessBranch: %}
											{% for row in AccessBranch: %}
												{% if row.Description == Branch %}
													<option value="{{ row.ID }}" selected="">{{ row.ID }} - {{ row.Description }}</option>
												{% else %}
													<option value="{{ row.ID }}">{{ row.ID }} - {{ row.Description }}</option>
												{% endif %}
											{% endfor %}
										{% endif %}
									</select>
									<!-- <div class="clearfix">&nbsp;</div>
			                    	<div class="note note-danger" style="width: 89%">
			                    		Please save all data, Page will be re-load after branch changed.
			                    	</div> -->
			                    </div>
			                </div>
			            </div>
			        </form>
			    </div>
			</div>
		</div>


		<script type="text/javascript">
			$("select.SwitchBranch").change(function(){
				var BranchID = $("select.SwitchBranch").val();
				$.ajax({
					url: "/Morakot/ChangeBranch",
					type: "POST",
					data:{ Branch: BranchID },
					success: function(data) {
						window.location.reload()
					}
				});
			});								
									
			    // alert(isMobile);
			    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) )
			    {
			 		
			    	$('#main-menu-toggle').click(function(){
			    		var isMMC = $('body').hasClass('mme');
			    		iframe = $('body').find('iframe').contents();
			    		var moreAction = iframe.find('.more-action');
			    		var navbarStaticTop = iframe.find('.navbar-static-top');

			    		navWidth = navbarStaticTop.css('width');

			    		if(parseInt(navWidth) > 1010 )
			    		{
			    			// alert('too large screen');
			    			navbarStaticTop.find('ul.nav').css('margin','0px -11px');
			    		}else
			    		{
			    			navbarStaticTop.find('ul.nav').css('margin','-8px -11px');
			    		}

			    		navbarStaticTop.css('height','52px');

			    		// check sidebar menu close or open
			    		if(isMMC==true){
			    			// Close:
			    			// console.log($('body').length);
			    			moreAction.css('padding','0');
			    			// navbarStaticTop.find('ul.nav').css('margin','-11px -11px');
			    			
			    		}else 
			    		{
			    			moreAction.css('padding','9px');
			    			// navbarStaticTop.find('ul.nav').css('margin','-11px -11px');
			    		}
			    	})
			    	var $parent = $('#New,#Save,#Edit,#Cancel,#Delete,#Authorize,#Review').parent();
			    	// $parent.css('border','1px solid');
			    	// $parent.find('a').css('padding','0');
			    	$parent.css('margin','0');                                                                                                                                                                                                           
			    	// $('ul.nav').css('height','52px');
			    	// $('input#ID').css({'width':'220px','margin-right':'12px'});
			    	$('input#ID').css({'width':'120px','margin':'0','padding':'0'});

			    	// $('.more-action').css('padding','0');

 		    		$('.navbar-form').addClass('no-border');

 		    		$('ul.dropdown-menu').css({'position':'absolute','background':'#FFF'}); 		    		
			    }
			$(document).ready(function(){
				/* if on mobile, do the following tasks */
				isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
				isIphone = /iPhone|iPad|iPod/i.test(navigator.userAgent);
				if(isMobile==true){
					/* Disable select2 js if on mobile, but hidden field stay the same */
					function disableSelect(){
						$('select').not('input[type="hidden"]').each(function(){
							$(this).select2("destroy");
						});
					}


					/* Hide keyboard on select2 open event */

					/*
							function hideSelect2Keyboard(e){
								$('.select2-search input, :focus,input').prop('focus',false).blur();
							}

							// setTimeout(disableSelect,1000); // uncomment this to disable select2 on mobile

							$("select").select2().on("select2-open", hideSelect2Keyboard);

							$("select").select2().on("select2-close",function(){
								setTimeout(hideSelect2Keyboard, 50);
							});

					*/
					function hideSelect2Keyboard(id){
						console.log('id='+id);
						$('div[id$=_'+id+'] .select2-search input, :focus, div[id$=_'+id+'] input[type="hidden"]').prop('focus',false).blur();
						
					}

					// setTimeout(disableSelect,1000); // uncomment this to disable select2 on mobile

					$("select").select2().on("select2-open", 
						function(){
							var id = $(this).attr('id');
							hideSelect2Keyboard(id);
						});

					$("select").select2().on("select2-close",function(){
							setTimeout(function(){
								var id = $(this).attr('id');
								hideSelect2Keyboard(id);
							})

					});


					/* change input type */
					// 1. Type Number
					$('#HouseNo,#Mobile1,#Mobile2,#EmergContactNumber,#LengthOfService,#YearEmployed').attr('type','number');
					// 2. Type Email
					$('#Email').attr('type','email');
					// 3. Type Website (URL)
					$('#Facebook,#Linkedin,#EmergFacebook,#EmergLinkedin').attr('type','url');
					// 5. Date field: Because Bootstrap date picker does not support with iphone, 
					// I would like to hide it for iphone, and replace with normal input type date
					// Take-away note: the display in put field is, ex. Jan 29, 1990 but the value is always 1990-01-29
					// Please do not confuse!
					// Refer to app/templates/_formhelper.html for coding detail

					// close main menu after click

					$('#MainMenu li a').click(function(){
						// alert('hello');
						width = $(document).width();
						// alert(width);
						if(width>=640 && $('body').hasClass('mme')==false){
							// $('body').removeClass('mme');
							$('body').removeClass('mme');
						}
					});
					$('#MainMenu li a[onclick]').click(function(){
						w = $(document).width();
						// alert('hl');
						if (w>=640){
							$('body').removeClass('mme').addClass('mmc');
						}else{
							$('body').removeClass('mmc mme')
						}

						// console.log($(this).parent('li'));

					});
					// set text on tab to be bold
					$('a[data-toggle="tab"]').css('font-weight','bold');

					$('ul.opt').css('font-size',15);
				}
			})

		</script>
		<script src="{{ url_for('static',filename='javascripts/jquery.autocomplete.js') }}"></script>
	</body>
</html>





