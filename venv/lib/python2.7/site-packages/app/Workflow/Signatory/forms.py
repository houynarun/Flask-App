from app.mktcore.wtfimports import *
from .models import *
from app.Branch.models 		import *
from app.User.models 		import *

def loadUserID():
   return MKT_USER.query

class FRM_WORKFLOW_SIGNATORY(exform):

	FormID 		 	 =  TextField("Form ID")
	RecordID 		 =  TextField("Record ID")
	Action	 		 = 	SelectField('Action',
					 	choices=[('1', 'Prepared'),('2', 'Reviewed'),('3', 'Approved'),('4', 'Rejected'),('5', 'Feedback')],
   						coerce=str)
	Comment	 		 = 	TextAreaField(requiredlabel(("Comment"), "*"))
	RoleID 			 =  TextField("Role ID")
	NotifyUserID	 = 	QuerySelectField(('User'),query_factory=loadUserID, 
 						get_label='DisplayName',#Field Name
  						allow_blank=True,blank_text=u'--None--')

	