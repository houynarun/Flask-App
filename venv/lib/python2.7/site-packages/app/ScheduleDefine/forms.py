from wtforms 					import DecimalField, IntegerField
from app.mktcore.wtfimports 	import *
from .models 					import *
import time

class FRM_SCHED_DEFINE(exform):

	ContractID 		= 	TextField("Contract ID")
	PrincipalFreq 	= 	IntegerField(requiredlabel("Principal Frequency", "*"), [validators.Required()])
	InterestFreq 	= 	IntegerField(requiredlabel("Interest Frequency", "*"), [validators.Required()])
	
	FwdBwdKey 		= 	SelectField(requiredlabel("Fwd/Bwd Key", "*"),
							choices=[('0', '0. No Holiday'),
									 ('1', '1. Backward within month'),
									 ('2', '2. Forward within month'),
									 ('3', '3. Backward'),
									 ('4', '4. Forward')],
							coerce=str,
							validators=[validators.Required()]
						)

	RepMode 		= 	SelectField(requiredlabel("Repayment Mode", "*"),
							choices=[('1', 'Declining'),
									 ('2', 'Annuity'),
									 ('3', 'Flat'),
									 ('4','IRR')],
							coerce=str,
							validators=[validators.Required()]
						)

	FirstInstallmentDate 	=	DateField("First Installment Date",format='%Y-%m-%d', validators=(validators.Optional(),))
	BaseDateKey 			= 	SelectField('Base Date Key',
									choices=[('', '--None--'),
											 ('1', '1. Value Date'),
											 ('2', '2. Previous Date'),
											 ('3', '3. First Date')],
									coerce=str,
									default='1'
								)
	PaymentHoliday 			= 	SelectField('Payment Holiday',
									choices=[('0', '--None--'),
											 ('1', '1. Principal Only'),
											 ('2', '2. Interest Only'),
											 ('3', '3. Both Principal+Interest')],
									coerce=str
								)
	NumOfHolidayInstallment = 	TextField("#Of Holiday Installment",default='0')
	WaiveInterest 			= 	SelectField('Waive Interest',
									choices=[('', '--None--'),
											 ('N', 'No'),
											 ('Y', 'Yes')],
									coerce=str
								)
	AnnuityAmount 			= 	TextField("Annuity Amount")
	OptSave 				=	TextField("Opt Save")
	Resource 				=	TextField("Resource")
	Amendment 				=	TextField("Amendment")
	AmtID 					=	TextField("AmtID")
	Resource 				=	TextField("Resource")
	DefaultAnnuityAmount	=	TextField("DefaultAnnuityAmount")



	@staticmethod
	def redirectAfterInsert():
		pass

	@staticmethod
	def setVisible():
		return ['AnnuityAmount','OptSave','Resource','Amendment','AmtID','PaymentHoliday','WaiveInterest','NumOfHolidayInstallment','DefaultAnnuityAmount']

	@staticmethod
	def postStandard():
		return False
		
