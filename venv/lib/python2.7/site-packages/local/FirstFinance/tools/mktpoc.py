from app.PotentialCustomer.models 	import *
import app.tools.mktaudit 			as mktaudit
import app.tools.mktdb 				as mktdb
def updatePO(ID,**kwargs):
		"""
		definition:
			thi method use to update information of potential customer.
			Todo:
				- before update will move a recored to hist table
				- in case have error while updatting will rollback recored.

		param : 
			ID : PO customer ID
			Kwargs: field name of Potential customer
		return:
			value : True/False

		"""
		try:
			POObj       =   db.session.query(MKT_PO_CUSTOMER).filter(MKT_PO_CUSTOMER.ID==ID)
			if POObj.first():
				Curr 	=	 mktaudit.moveAUTHtoHIST(MKT_PO_CUSTOMER,MKT_PO_CUSTOMER_HIST,ID)
				Curr  	= int(Curr)+1
				kwargs.update({"Curr":Curr})
				mktdb.updateRecord(MKT_PO_CUSTOMER,[MKT_PO_CUSTOMER.ID==ID],kwargs)
				db.session.commit()
				return True
			else:
				return False

		except Exception as e:
			db.session.rollback()
			return False