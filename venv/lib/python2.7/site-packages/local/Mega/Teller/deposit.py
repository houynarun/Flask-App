from app.mktcore.wtfimports 	import *
from app.mktcore.imports 		import *


from app.Officer.models			import *
from app.Teller.models 			import *
from app.Teller.deposit 		import *

def loadOfficer(ID=''):  #define function 

		return MKT_OFFICER.query.filter_by(Branch=getCurrentBranch()).\
										order_by(MKT_OFFICER.ID).all()



class FRM_DEPOSIT_EX(FRM_DEPOSIT):

	CollectionOfficer 		= 	QuerySelectField('Collection Officer',
								query_factory		= 	loadOfficer,
								get_label			= 	lambda a: a.ID + " - " + a.LastName + " " +a.FirstName,
								allow_blank 		= 	True,
								blank_text 			= 	u'--None--',)