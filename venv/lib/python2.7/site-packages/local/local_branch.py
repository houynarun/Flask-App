from app.Branch.forms import *
from app.Branch.models 	  import *
from local.branch_model import *

class clsBranch(FRM_BRANCH):

	Subject 		=	TextField(requiredlabel("Subject", "*"), [validators.Required()], description="1-Subject")
	

	@staticmethod
	def hotSelectField():

		child= super(clsBranch,clsBranch).hotSelectField() # hotSelectField() is a method of Parent class FRM_BRANCH

		hotfield 		=	[]
		fielddisplay 	=	"District"
		varname			=	"ProvinceID:$('#Province').val()"
		fun				=	["Province", varname ,fielddisplay, "/Morakot/DistrictID", "change"]
		child.append(fun)

		return child


	@staticmethod
	def isMultiValue():
		child= super(clsBranch,clsBranch).isMultiValue() # hotSelectField() is a method of Parent class FRM_BRANCH
		child.append ("1-Subject")
		return child


	def validate_Description(form, field):

		if len (field.data) >10 :
			raise ValidationError('Name must be less than 5 characters')

registerCRUD(admin, '/Branchdetail', 'Branchdetail', FRM_BRANCH, [MKT_BRANCH,MKT_BRANCH_DETAIL])
